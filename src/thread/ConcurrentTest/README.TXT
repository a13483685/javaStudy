内部维护了一个计数器，里面对计数器的操作都是原子的。使用的时候先初始化一个初值
当这个初值最后减为0的时候，就停止await状态
